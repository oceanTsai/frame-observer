{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f8a4d73772f2b4560e45","webpack:///./src/js/utils/util.js","webpack:///./src/js/builder.js","webpack:///./src/js/buildDeferred.js","webpack:///./src/js/constants/Event.js","webpack:///./src/js/utils/guid.js","webpack:///./src/js/constants/Config.js","webpack:///./src/js/constants/MessageType.js","webpack:///./src/js/frameObserver.js","webpack:///./src/js/index.js","webpack:///./src/js/EventObserver.js","webpack:///./src/js/FrameObserverContext.js","webpack:///./src/js/StateManager.js","webpack:///./src/js/processor/EventMsgProcessor.js","webpack:///./src/js/processor/MethodMsgProcessor.js","webpack:///./src/js/processor/RegisterMsgProcessor.js","webpack:///./src/js/processor/StateProcessor.js","webpack:///./src/js/processor/UnregisterMsgProcessor.js","webpack:///./src/js/utils/urlUtils.js"],"names":["util","isString","str","isElement","el","Element","isObject","obj","isArray","Object","prototype","toString","call","clone","deep","cloneObj","copyObj","target","params","copyArray","arguments","copyObjs","slice","index","i","array","newArray","length","createElement","tagName","document","DATA_KEY","data","key","val","getContentWindowByEl","contentWindow","postMessage","win","origin","JSON","stringify","buildMessageEvent","type","direction","id","extraAttrs","infoData","_id","_extraAttrs","defaults","timestamp","Date","buildFrameCaller","eventType","deferred","msgEvt","evtMapping","getOriginByFrameEl","processorBuilder","deferredSendResp","callMethodName","frameObserver","respTmp","deferredState","deferredRecv","source","buildPostingOrigin","respMsgEvt","result","done","fail","buildDeferred","reject","resolve","promise","Promise","res","rej","toArray","Array","always","then","apply","MESSAGE","SEND","RECV","guid","s4","Math","floor","random","substring","FRAME_OBSERVER","FRAME_EVENT_ID","EVENT","METHOD","REGISTER_EVENT","UNREGISTER_EVENT","STATE","FrameObserver","eventObservers","registerEventObserver","stateManager","methods_","msgProcessors","window","addEventListener","onMessage","bind","evt","parse","e","msgProcessor","onRecv","onSendResp","getFrameEventId_","frameEventId","getFrameObserverList_","getObserver_","frameObserverList","observer","push","on","eventName","func","_this","getEventNumber","registerEvent","off","unregisterEvent","trigger","name","callMethod","registerMethods","methods","resolveState","stateName","get","rejectState","readyState","getContext","module","exports","EventObserver","events","opts","once","eventList","undefined","splice","timeStamp","originParams","filterList","unshift","FrameObserverContext","scope","args","HTMLElement","StateManager","stateDeferredMap","assign","stateDeferred","EventMsgProcessor","param","observerList","observerContext","MethodMsgProcessor","methodName","shift","err","RegisterMsgProcessor","StateProcessor","UnregisterMsgProcessor","urlUtils","getOrigin","url","exec","src","referrer"],"mappings":"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","file":"frameObserver.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"frameObserver\"] = factory();\n\telse\n\t\troot[\"frameObserver\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 18);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f8a4d73772f2b4560e45","\nimport guid from './guid';\n\n/***\n * @namespace\n */\nvar util = {\n\n  /**\n   * @param {String} str\n   * @type boolean\n   */\n  isString:function( str ){\n\n    return typeof str === \"string\";\n  },\n\n  /**\n   * @param {HTMLElement} el\n   * @type boolean\n   */\n  isElement:function( el ){\n\n    return el instanceof Element;\n  },\n\n  /**\n   * @param {Object} obj\n   * @type boolean\n   */\n  isObject:function( obj ){ return typeof obj == \"object\"; },\n\n  /**\n   * @param {Object} obj\n   * @type boolean\n   */\n  isArray:function( obj ){ return typeof Object.prototype.toString.call(obj) == \"[object Array]\"; },\n\n  /**\n   * @param {Object} target\n   * @param {Object} obj\n   * @type Object\n   */\n  clone:function( deep, cloneObj, copyObj ){\n\n    var target, obj, params = this.copyArray( arguments ), copyObjs;\n\n    if ( typeof deep != \"boolean\" ) {\n      target = deep,\n      copyObjs = params.slice(1);\n    } else {\n      target = cloneObj;\n      copyObjs = params.slice(2);\n    }\n\n    for ( var index in copyObjs ) {\n\n      var obj = copyObjs[index];\n\n      for ( var i in obj ) {\n\n        if ( util.isArray( obj[i] ) ) {\n\n          target[i] = util.isArray( target[i] ) ? target[i]: [];\n\n        } else if ( util.isObject( obj[i] ) ) {\n\n          target[i] = util.isObject( target[i] ) ? target[i]: {};\n\n        }\n\n        if ( deep && util.isObject( obj[i] ) ) clone( target[i], obj[i] );\n\n        else target[i] = obj[i];\n      }\n    }\n\n    return target;\n  },\n\n  /***\n   * @param {Array} array\n   * @type Array\n   */\n  copyArray:function( array ){\n\n    var newArray = [];\n\n    for ( var i = 0; i<array.length; i++ ) newArray[i] = array[i];\n    return newArray;\n  },\n\n  /**\n   * @param {String} tagName\n   */\n  createElement:function( tagName ){\n    return document.createElement( tagName );\n  },\n\n  DATA_KEY:guid(),\n\n  /**\n   * @param {HTMLElement} el\n   * @param {String} key\n   * @param {*} val\n   */\n  data:function( el, key, val ){\n    var DATA_KEY = this.DATA_KEY;\n    var data = el[DATA_KEY]? el[DATA_KEY] : el[DATA_KEY] = {};\n\n    if ( arguments.length === 3 ) {\n      data[key] = val;\n    } else {\n      return data[key];\n    }\n  },\n\n  /** \n   * @param {HTMLElement} el\n   * @type Object\n   */\n  getContentWindowByEl:function( el ){\n  \n    return util.isElement( el ) ? el.contentWindow: el; \n  },\n\n  /**\n   * @param {Window} win\n   * @param {Object} data\n   * @param {String} origin\n   */\n  postMessage:function( win, data, origin ){\n    win.postMessage( JSON.stringify( data ), origin );\n  }\n};\n\nexport default util;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/util.js","\nimport util from './utils/util';\nimport guid from './utils/guid';\nimport urlUtils from './utils/urlUtils';\nimport Deferred from './buildDeferred';\nimport {FRAME_OBSERVER} from './constants/Config'; \nimport {SEND, RECV} from './constants/Event';\n\n/**\n * @param {String} type\n * @param {Object} data\n * @param {String} id\n * @param {Object} extraAttrs\n */\nvar buildMessageEvent = function( type, direction, data, id, extraAttrs ){\n  var infoData = data || {};\n  var _id = id ? id: guid();\n  var _extraAttrs = extraAttrs || {};\n  var defaults = {};\n  defaults[FRAME_OBSERVER] = true;\n  return util.clone( {type:type, data:infoData, id:_id, timestamp:+new Date(), direction:direction}, _extraAttrs, defaults );\n};\n\n/**\n * @param {String} eventType\n * @param {Object} extraAttrs\n */\nvar buildFrameCaller = function( eventType, extraAttrs ){\n\n  /**\n   * @param {HTMLElement} el\n   * @type Deferred\n   */\n  return function( el ){\n\n    var deferred = Deferred();\n    var origin;\n    var contentWindow;\n    var msgEvt = buildMessageEvent( eventType, SEND, {params:util.copyArray( arguments ).slice(1)}, null, extraAttrs );\n    this.evtMapping[msgEvt.id] = {\n      el:el,\n      id:msgEvt.id,\n      deferred:deferred\n    };\n\n    origin = urlUtils.getOriginByFrameEl( el );\n    contentWindow = util.getContentWindowByEl( el );\n    util.postMessage( contentWindow, msgEvt, origin );\n\n    return deferred;\n  }\n};\n\n\n/**\n * @namespace\n */\nvar processorBuilder = {\n\n  deferredSendResp:function(){\n\n    /**\n     * @param {Event} msgEvt\n     */\n    return function( msgEvt ) {\n      var callMethodName = 'reject';\n      var frameObserver = this.frameObserver;\n      var respTmp = frameObserver.evtMapping[msgEvt.id];\n      delete frameObserver.evtMapping[msgEvt.id];\n      if ( msgEvt.deferredState === 'done' ) callMethodName = 'resolve';\n      //ignore it when observer is not sender\n      if (respTmp) respTmp.deferred[callMethodName](msgEvt.data);\n    };\n  },\n\n  deferredRecv:function(){\n\n    /**\n     * @param {Event} msgEvt\n     * @param {Object} source\n     * @param {String} origin\n     * @param {Deferred} deferred\n     */\n    return function( msgEvt, source, origin, deferred ){\n\n      var buildPostingOrigin = function( deferredState ){\n\n        return function(){\n          var respMsgEvt = buildMessageEvent( msgEvt.type, RECV, {result:arguments}, msgEvt.id, {deferredState:deferredState} );\n          util.postMessage( source, respMsgEvt, origin );\n        };\n      };\n      deferred.done(buildPostingOrigin( 'done' ));\n      deferred.fail(buildPostingOrigin( 'fail' ));\n    };\n  }\n};\n\nexport {buildMessageEvent, buildFrameCaller, processorBuilder};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/builder.js","\n/**\n * @function\n * @type Promise\n */\nvar buildDeferred = function() {\n  var reject, resolve;\n  var promise = new Promise(function( res, rej ){\n    resolve = res;\n    reject = rej;\n  });\n  promise.resolve = resolve;\n  promise.reject = reject;\n\n  var toArray = function(val){\n    return Array.prototype.slice.call(val, 0);\n  };\n\n  promise.resolve = function(){\n    resolve.call(null, toArray(arguments));\n  };\n\n  promise.reject = function(){\n    reject.call(null, toArray(arguments));\n  };\n\n  promise.always = function(always){\n    promise.then(function(val){\n\n      always.apply(null, toArray(val));\n    },\n    function(){\n\n      always.apply(null, toArray(val));\n    });\n  };\n\n  promise.done = function(done){\n    promise.then(function(val){\n      done.apply(null, toArray(val));\n    });\n  };\n\n  promise.fail = function(fail){\n    promise.then(function(){},function(val){\n      fail.apply(null, toArray(val));\n    });\n  };\n\n  return promise;\n};\n\n\nexport default buildDeferred;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/buildDeferred.js","\nexport const MESSAGE = 'message';\nexport const SEND = 'send';\nexport const RECV = 'recv';\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/constants/Event.js","\nvar guid = function() {\n  var s4 = function() {\n    return Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .substring(1);\n  }\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n    s4() + '-' + s4() + s4() + s4();\n}\n\nexport default guid;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/guid.js","\nexport const FRAME_OBSERVER = '_FRAME_OBSERVER_';\nexport const FRAME_EVENT_ID = 'frameEventId';\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/constants/Config.js","\nexport const EVENT = 'event';\nexport const METHOD = 'method';\nexport const REGISTER_EVENT = 'registerEvent';\nexport const UNREGISTER_EVENT = 'unregisterEvent';\nexport const STATE = 'state';\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/constants/MessageType.js","\nimport {FRAME_OBSERVER, FRAME_EVENT_ID} from './constants/Config';\nimport {MESSAGE, SEND} from './constants/Event';\nimport {METHOD, REGISTER_EVENT, UNREGISTER_EVENT, STATE, EVENT} from './constants/MessageType';\nimport util from './utils/util';\nimport guid from './utils/guid';\nimport EventObserver from './EventObserver';\nimport StateManager from './StateManager';\nimport EventMsgProcessor from './processor/EventMsgProcessor';\nimport RegisterMsgProcessor from './processor/RegisterMsgProcessor';\nimport StateProcessor from './processor/StateProcessor';\nimport UnregisterMsgProcessor from './processor/UnregisterMsgProcessor';\nimport MethodMsgProcessor from './processor/MethodMsgProcessor';\nimport {buildFrameCaller} from './builder';\nimport Deferred from './buildDeferred';\nimport FrameObserverContext from './FrameObserverContext';\n\n\n/**\n * @class\n */\nvar FrameObserver = function(){\n\n  this.evtMapping = {};\n  this.eventObservers = {};\n  this.registerEventObserver = new EventObserver();\n  this.stateManager = new StateManager();\n  this.methods_ = {};\n\n  this.msgProcessors = {\n    [METHOD]:new MethodMsgProcessor( this ),\n    [REGISTER_EVENT]:new RegisterMsgProcessor( this ),\n    [UNREGISTER_EVENT]:new UnregisterMsgProcessor( this ),\n    [EVENT]:new EventMsgProcessor( this ),\n    [STATE]:new StateProcessor( this )\n  };\n  window.addEventListener( MESSAGE, this.onMessage.bind( this ) );\n};\n\nFrameObserver.prototype = {\n\n  /**\n   * @param {Event} evt\n   */\n  onMessage:function( evt ){\n    var origin = evt.origin, msgEvt;\n    try {\n      msgEvt = JSON.parse( evt.data );\n    } catch (e){\n      msgEvt = null;\n    }\n\n    //event filter if source is not sended from FrameObserver\n    if ( util.isObject( msgEvt ) && FRAME_OBSERVER in msgEvt ) {\n      var deferred = Deferred();\n      var source = evt.source;\n\n      //console.log( msgEvt, evt );\n      //console.log( evt );\n\n      var msgProcessor = this.msgProcessors[ msgEvt.type ];\n\n      if ( msgEvt.direction == SEND ) msgProcessor.onRecv( msgEvt, source, origin, deferred ); else msgProcessor.onSendResp( msgEvt, origin, deferred );\n    }\n  },\n\n  /**\n   * @private \n   * @param {HTMLElement} el\n   * @type String\n   */\n  getFrameEventId_:function( el ){\n    var frameEventId = \"window\";\n\n    if ( util.isElement( el ) ) {\n      frameEventId = (function( id ){\n        var frameEventId = id ? id : guid();\n        util.data( el, FRAME_EVENT_ID, frameEventId );\n        return frameEventId;\n      })(util.data( el, FRAME_EVENT_ID ));\n    }\n    return frameEventId;\n  },\n\n  /**\n   * @private\n   * @param {String} frameEventId\n   * @type Array[EventObserver]\n   */\n  getFrameObserverList_:function( frameEventId ){\n\n    return !this.eventObservers[frameEventId] ? this.eventObservers[frameEventId] = []:this.eventObservers[frameEventId];\n  },\n\n  /**\n   * @private\n   * @param {HTMLElement} el\n   * @type EventObserver\n   */\n  getObserver_:function( el ){\n\n    var frameEventId = this.getFrameEventId_( el );\n    var frameObserverList = this.getFrameObserverList_( frameEventId );\n    var observer;\n\n    for ( var i in frameObserverList ) {\n\n      if ( frameObserverList[i].el === el ) {\n        observer = frameObserverList[i].observer;\n        break;\n      }\n    }\n\n    if ( !observer ) {\n\n      observer = new EventObserver();\n\n      frameObserverList.push({\n        el:el,\n        observer:observer\n      });\n    }\n\n    return observer;\n  },\n\n  /**\n   * @param {HTMLElement} el\n   * @param {String} eventName\n   * @param {function} func\n   */\n  on:function( el, eventName, func ){\n\n    var observer = this.getObserver_( el );\n    var frameEventId = this.getFrameEventId_( el );\n    var _this = this;\n\n    observer.on( eventName, func );\n\n    return new Promise(function(resolve, reject) {\n      if ( observer.getEventNumber( eventName ) === 1 ) _this.registerEvent( el, {eventName:eventName, frameEventId:frameEventId} ).then(resolve);\n      else resolve()\n    });\n  },\n\n  /**\n   * @param {HTMLElement} el\n   * @param {String} eventName\n   * @param {function} func\n   */\n  off:function( el, eventName, func ){\n\n    var observer = this.getObserver_( el );\n    var frameEventId = this.getFrameEventId_( el );\n    var _this = this;\n\n    observer.off( eventName, func );\n\n    return new Promise(function(resolve, reject) {\n      if ( observer.getEventNumber( eventName ) === 0 ) _this.unregisterEvent( el, {eventName:eventName, frameEventId:frameEventId} ).then(resolve);\n      else resolve();\n    });\n  },\n\n  /**\n   * @param {String} name\n   */\n  trigger:function( name ){\n \n    this.registerEventObserver.trigger( name, util.copyArray( arguments ).slice(1) );\n  },\n\n  /**\n   * @param {HTMLElement} el\n   * @type Deferred\n   */\n  callMethod:buildFrameCaller( METHOD ),\n\n  /**\n   * @param {HTMLElement} el\n   * @type Deferred\n   */\n  registerEvent:buildFrameCaller( REGISTER_EVENT ),\n\n  /**\n   * @param {HTMLElement} el\n   * @type Deferred\n   */\n  unregisterEvent:buildFrameCaller( UNREGISTER_EVENT ),\n\n\n  /**\n   * @param {Object} methods\n   */\n  registerMethods:function( methods ){\n\n    for (var i in methods) {\n      this.methods_[i] = methods[i];\n    };\n  },\n\n  /**\n   * @param {String} stateName\n   */\n  resolveState:function( stateName ){\n\n    this.stateManager.get( stateName ).resolve( util.copyArray( arguments ).slice(1) );\n  },\n\n  /**\n   * @param {String} stateName\n   */\n  rejectState:function( stateName ){\n\n    this.stateManager.get( stateName ).reject( util.copyArray( arguments ).slice(1) );\n  },\n\n\n  /**\n   * @param {HTMLElement} el\n   * @param {String} stateName\n   * @type Deferred\n   */\n  readyState:buildFrameCaller( STATE ),\n\n  /**\n   * @param {HTMLElement|Window} el\n   * @type FrameObserverContext\n   */\n  getContext:function(el) {\n    return new FrameObserverContext(el);\n  }\n};\n\n\nvar frameObserver = new FrameObserver();\n\n//if ( typeof window !== \"undefined\" ) window.frameObserver = frameObserver;\n//if ( typeof module !== \"undefined\" ) module.exports = frameObserver;\n\nexport default frameObserver;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/frameObserver.js","\nimport frameObserver from './frameObserver';\nexport default frameObserver;\n\nif (typeof window !== 'undefined' && typeof window.frameObserver === 'undefined') window.frameObserver = frameObserver;\nmodule.exports = frameObserver;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","\nimport util from './utils/util';\n\n/**\n * @class\n */\nvar EventObserver = function(){\n\n  this.events = {};\n};\n\nEventObserver.prototype = {\n\n  /**\n   * @param {String} name\n   * @param {function} func\n   * @param {Object} opts\n   * @param {*} opts.target\n   * @param {boolean} opts.once is a inner variable\n   */\n  on:function( name, func, opts ){\n    var opts = opts || {};\n\n    if ( !this.events[name] ) this.events[name] = [];\n\n    this.events[name].push({\n      func:func,\n      once:opts.once || false,\n      target:opts.target || null\n    });\n  },\n\n  /**\n   * @param {String} name\n   * @param {function} func\n   */\n  once:function( name, func ){\n\n    this.on( name, func, {once:true} );\n  },\n\n  /**\n   * @param {String} name\n   * @param {function} func\n   * @param {*} target\n   */\n  off:function( name, func, target ){\n\n    var eventList = this.events[name] || [];\n\n    if ( arguments.length === 1 ) {\n\n      delete this.events[name];\n\n    } else {\n\n      for ( var i in eventList ) {\n        var evt = eventList[i];\n\n        if ( (evt.func === func && ( evt.target === null || evt.target === target )) ||\n             (func === undefined && evt.target === target )\n           ) {\n\n          eventList.splice( i, 1 );\n          break;\n        }\n      }\n    }\n  },\n\n  /**\n   * @param {String} eventName\n   * @type Number\n   */\n  getEventNumber:function( eventName ){\n\n    return this.events[eventName]? this.events[eventName].length : 0;\n  },\n\n  /**\n   * @param {String} name\n   */\n  /**\n   * @param {Objects} opts\n   * @param {String} opts.name\n   * @param {*} opts.target\n   */\n  trigger:function( opts ){\n    var name, target, timeStamp = (+new Date());\n\n    if ( util.isString( opts ) ) {\n      name = opts;\n    } else {\n      name = opts.name;\n      target = opts.target || null;\n    }\n\n    var eventList = this.events[name] || [], i;\n    var originParams = util.copyArray( arguments );\n\n    if ( target ) {\n\n      eventList = (function( eventList, target ){\n        var filterList = [];\n\n        for ( var i in eventList ) {\n          if ( eventList[i].target === target ) filterList.push( eventList[i] );\n        }        \n\n        return filterList;\n      })( eventList, target );\n    }\n\n    for ( i in eventList ) {\n\n      var evt = {\n        type:name,\n        timeStamp:timeStamp\n      };\n\n      var params = originParams.slice(1);\n\n      params.unshift( evt );\n      eventList[i].func.apply( null, params )\n    }\n\n    for ( i = 0; i < eventList.length ; i++ ) {\n\n      if ( eventList[i].once ) {\n\n        target? this.off( name, opts.func, opts.target ) : this.off( name, opts.func );\n      }\n    }\n\n  }\n};\n\n\nexport default EventObserver;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/EventObserver.js","\nimport frameObserver from './frameObserver';\n\nclass FrameObserverContext {\n\n  constructor(scope){\n    this.scope = scope;\n  }\n\n  on(...args){\n    return frameObserver.on(this.scope, ...args);\n  }\n\n  off(...args){\n    return frameObserver.off(this.scope, ...args);\n  }\n\n  readyState(...args){\n    return frameObserver.readyState(this.scope, ...args);\n  }\n\n  callMethod(...args){\n    return frameObserver.callMethod(this.scope, ...args);\n  }\n\n  getElement(){\n    return this.scope instanceof HTMLElement ? this.scope : null;\n  }\n\n}\n\nexport default FrameObserverContext;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/FrameObserverContext.js","\nimport Deferred from './buildDeferred';\n\n/**\n * @class\n */\nvar StateManager = function(){\n\n  this.stateDeferredMap = {};\n};\n\nStateManager.prototype = {\n\n  /**\n   * @param {String} stateName\n   * @param {Deferred} deferred\n   */\n  assign:function( stateName, deferred ){\n    var stateDeferred = this.get( stateName );\n    stateDeferred.done(deferred.resolve.bind(deferred));\n    stateDeferred.fail(deferred.reject.bind(deferred));\n  },\n\n  /**\n   * @param {String} stateName\n   * @type Deferred\n   */\n  get:function( stateName ){\n    var deferred = this.stateDeferredMap[stateName];\n    return deferred ? deferred : this.stateDeferredMap[stateName] = Deferred();\n  }\n};\n\nexport default StateManager;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/StateManager.js","\nimport util from '../utils/util';\n\n/**\n * @class\n */\nvar EventMsgProcessor = function( frameObserver ){\n\n  this.frameObserver = frameObserver;\n};\n\nEventMsgProcessor.prototype = {\n  /**\n   * @param {Event} msgEvt\n   * @param {Object} source\n   * @param {String} origin\n   * @param {Deferred} deferred\n   */\n  onRecv:function( msgEvt, source, origin, deferred ){\n    var params = msgEvt.data.result;\n    var type = params[0].type;\n    var param = util.copyArray( params[1] );\n    //console.log( arguments );\n    param.unshift( type );\n    var observerList = this.frameObserver.getFrameObserverList_( msgEvt.frameEventId );\n\n    if ( observerList ) {\n\n      for ( var i in observerList ) {\n        var observerContext = observerList[i];\n\n        if ( util.getContentWindowByEl( observerContext.el ) === source ) {\n          observerContext.observer.trigger.apply( observerContext.observer, param );\n        }\n      }\n    }\n  }\n};\n\nexport default EventMsgProcessor;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/processor/EventMsgProcessor.js","\nimport {processorBuilder} from '../builder'; \n\n/**\n * @class\n */\nvar MethodMsgProcessor = function( frameObserver ){\n  this.frameObserver = frameObserver;\n};\n\nMethodMsgProcessor.prototype = {\n\n  /**\n   * @param {Event} msgEvt\n   * @param {Object} source\n   * @param {String} origin\n   * @param {Deferred} deferred\n   */\n  onRecv:function( msgEvt, source, origin, deferred ){\n    var frameObserver = this.frameObserver;\n    var params = msgEvt.data.params;\n    var methodName = params.shift()\n\n    params.unshift( deferred );\n\n    if ( frameObserver.methods_ && frameObserver.methods_[methodName] ) {\n      frameObserver.methods_[methodName].apply( frameObserver.methods_, params );\n    } else {\n      deferred.reject({err:\"the method is not exist.\"});\n    }\n\n    processorBuilder.deferredRecv().apply(this, arguments);\n\n  },\n\n  /**\n   * @param {Event} msgEvt\n   */\n  onSendResp:processorBuilder.deferredSendResp()\n};\n\n\nexport default MethodMsgProcessor;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/processor/MethodMsgProcessor.js","\nimport util from '../utils/util';\nimport {buildMessageEvent, processorBuilder} from '../builder'; \nimport {SEND} from '../constants/Event';\nimport {EVENT} from '../constants/MessageType';\n\n/**\n * @class\n */\nvar RegisterMsgProcessor = function( frameObserver ){\n\n  this.frameObserver = frameObserver;\n};\n\nRegisterMsgProcessor.prototype = {\n\n  /**\n   * @param {Event} msgEvt\n   * @param {Object} source\n   * @param {String} origin\n   * @param {Deferred} deferred\n   */\n  onRecv:function( msgEvt, source, origin, deferred ){\n    var param = msgEvt.data.params[0];\n    var frameObserver = this.frameObserver;\n    var eventName = param.eventName;\n    var frameEventId = param.frameEventId;\n\n    //console.log( arguments , param);\n    frameObserver.registerEventObserver.on( eventName, function(){\n      //console.log( arguments );\n      var respMsgEvt = buildMessageEvent( EVENT, SEND, {result:util.copyArray( arguments ) }, msgEvt.id );\n      respMsgEvt.frameEventId = frameEventId;\n      util.postMessage( source, respMsgEvt, origin );\n    }, {target:source} );\n\n    deferred.resolve();\n    processorBuilder.deferredRecv().apply(this, arguments);\n  },\n\n  /**\n   * @param {Event} msgEvt\n   */\n  onSendResp:processorBuilder.deferredSendResp()\n};\n\nexport default RegisterMsgProcessor;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/processor/RegisterMsgProcessor.js","\nimport {processorBuilder} from '../builder';\n\n/**\n * @class\n */\nvar StateProcessor = function( frameObserver ){\n\n  this.frameObserver = frameObserver;\n};\n\nStateProcessor.prototype = {\n\n  /**\n   * @param {Event} msgEvt\n   * @param {Object} source\n   * @param {String} origin\n   * @param {Deferred} deferred\n   */\n  onRecv:function( msgEvt, source, origin, deferred ){\n    var frameObserver = this.frameObserver;\n    var data = msgEvt.data;\n    var params = data.params;\n\n    frameObserver.stateManager.assign( params[0], deferred );\n    processorBuilder.deferredRecv().apply(this, arguments);\n  },\n\n  /**\n   * @param {Event} msgEvt\n   */\n  onSendResp:processorBuilder.deferredSendResp()\n};\n\nexport default StateProcessor;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/processor/StateProcessor.js","\nimport {processorBuilder} from '../builder'; \n\n/**\n * @class\n */\nvar UnregisterMsgProcessor = function( frameObserver ){\n\n  this.frameObserver = frameObserver;\n};\n\nUnregisterMsgProcessor.prototype = {\n\n  /**\n   * @param {Event} msgEvt\n   * @param {Object} source\n   * @param {String} origin\n   * @param {Deferred} deferred\n   */\n  onRecv:function( msgEvt, source, origin, deferred ){\n    var param = msgEvt.data.params[0];\n    var frameObserver = this.frameObserver;\n    var eventName = param.eventName;\n    var frameEventId = param.frameEventId;\n\n    frameObserver.registerEventObserver.off( eventName, undefined, source );\n    deferred.resolve();\n    processorBuilder.deferredRecv().apply(this, arguments);\n  },\n\n  /**\n   * @param {Event} msgEvt\n   */\n  onSendResp:processorBuilder.deferredSendResp()\n\n};\n\nexport default UnregisterMsgProcessor;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/processor/UnregisterMsgProcessor.js","\nimport util from './util';\n\n/**\n * @namespace\n *\n */\nvar urlUtils = {\n\n  /***\n   * @param {String} url\n   * @type String\n   */\n  getOrigin:function( url ){\n    var result = /https?:\\/\\/[^/]*\\/?/.exec( url );\n    return result.length ? result[0] : null;\n  },\n\n  /** \n   * @param {HTMLElement} el\n   * @type Object\n   */\n  getOriginByFrameEl:function( el ){\n\n    return util.isElement( el ) ? urlUtils.getOrigin( el.src ) : document.referrer;\n  }\n};\n\nexport default urlUtils;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/urlUtils.js"],"sourceRoot":""}